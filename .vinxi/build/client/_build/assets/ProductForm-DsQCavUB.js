const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BarcodeScanner-CcNMGE-w.js","assets/web-B77D8VL7.js"])))=>i.map(i=>d[i]);
import{_ as re}from"./preload-helper-ug3pwPZ1.js";import{e as a,F as ne,s as j,G as le,a as ie,u as oe,h as se,b as n,S as ce,i as ue,q as u,l as i,r as ge,t as de}from"./web-B77D8VL7.js";import{S as be,I as b,B as me,p as he}from"./Button-lI7l4pQ1.js";function Se(e,o={}){const[g,m]=a();return!o.lazy&&M(e,m),h=>{let l,$;const[,d]=ne(h,["fallback"]);if(o.lazy&&M(e,m),(l=g())&&!j.context)return l(d);const[k,v]=a(!j.context);return le(()=>v(!0)),ie(()=>(l=g(),$=k(),oe(()=>l&&$?l(d):h.fallback)))}}function M(e,o){e().then(g=>o(()=>g.default))}var xe=de('<form class=space-y-8><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6"><!$><!/><div><label class="block text-sm font-semibold text-slate-700 mb-2">Kode Barang</label><div class="flex gap-2"><!$><!/><button type=button class="px-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl transition-colors flex items-center justify-center border border-indigo-200 h-[46px]"title="Scan Barcode"><svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><rect x=3 y=3 width=7 height=7></rect><rect x=14 y=3 width=7 height=7></rect><rect x=14 y=14 width=7 height=7></rect><rect x=3 y=14 width=7 height=7></rect></svg></button></div></div><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/></div><div class="flex justify-end pt-6 border-t border-slate-100">');const $e=Se(()=>re(()=>import("./BarcodeScanner-CcNMGE-w.js"),__vite__mapDeps([0,1])));function pe(e){const[o,g]=a(e.initialData?.brand||"nayyacorner"),[m,h]=a(e.initialData?.kodeBarang||""),[l,$]=a(e.initialData?.namaBarang||""),[d,k]=a(e.initialData?.gramasi?.toString()||""),[v,G]=a(e.initialData?.satuan||""),[w,H]=a(e.initialData?.harga?.toString()||""),[B,L]=a(e.initialData?.stok?.toString()||"0"),[O,y]=a(!1),[s,C]=a({}),z=async c=>{c.preventDefault();const r={brand:o(),kodeBarang:m(),namaBarang:l(),gramasi:d()?Number(d()):null,satuan:v()||null,harga:Number(w()),stok:Number(B())},S=he.safeParse(r);if(!S.success){const _=S.error.flatten(),f={};Object.entries(_.fieldErrors).forEach(([p,x])=>{x&&x.length>0&&(f[p]=x[0])}),C(f);return}C({}),await e.onSubmit(S.data)},A=c=>{h(c),y(!1)};return[n(ce,{get when(){return O()},get children(){return n($e,{onScanSuccess:A,onClose:()=>y(!1)})}}),(()=>{var c=ue(xe),r=c.firstChild,S=r.firstChild,[_,f]=u(S.nextSibling),p=_.nextSibling,x=p.firstChild,D=x.nextSibling,F=D.firstChild,[E,K]=u(F.nextSibling),R=E.nextSibling,q=p.nextSibling,[I,V]=u(q.nextSibling),J=I.nextSibling,[N,Q]=u(J.nextSibling),U=N.nextSibling,[T,W]=u(U.nextSibling),X=T.nextSibling,[P,Y]=u(X.nextSibling),Z=P.nextSibling,[ee,te]=u(Z.nextSibling),ae=r.nextSibling;return c.addEventListener("submit",z),i(r,n(be,{label:"Brand",get value(){return o()},onChange:t=>g(t.currentTarget.value),get error(){return s().brand},options:[{label:"Nayya Corner",value:"nayyacorner"},{label:"Ina Cookies",value:"inacookies"}]}),_,f),i(D,n(b,{get value(){return m()},onInput:t=>h(t.currentTarget.value),get error(){return s().kodeBarang},wrapperClass:"flex-1",placeholder:"e.g. NC-001",class:"font-mono"}),E,K),R.$$click=()=>y(!0),i(r,n(b,{label:"Nama Barang",get value(){return l()},onInput:t=>$(t.currentTarget.value),get error(){return s().namaBarang},wrapperClass:"md:col-span-2",placeholder:"e.g. Chocolate Chip Cookies"}),I,V),i(r,n(b,{label:"Gramasi",type:"number",get value(){return d()},onInput:t=>k(t.currentTarget.value),get error(){return s().gramasi},placeholder:"e.g. 500"}),N,Q),i(r,n(b,{label:"Satuan",get value(){return v()},onInput:t=>G(t.currentTarget.value),get error(){return s().satuan},placeholder:"e.g. gram, pcs, jar, box"}),T,W),i(r,n(b,{label:"Harga (Rp)",type:"number",get value(){return w()},onInput:t=>H(t.currentTarget.value),get error(){return s().harga},placeholder:"0"}),P,Y),i(r,n(b,{label:"Stok Awal",type:"number",get value(){return B()},onInput:t=>L(t.currentTarget.value),get error(){return s().stok},placeholder:"0"}),ee,te),i(ae,n(me,{type:"submit",get isLoading(){return e.isSubmitting},get disabled(){return e.isSubmitting},children:"Save Product"})),ge(),c})()]}se(["click"]);export{pe as P};
