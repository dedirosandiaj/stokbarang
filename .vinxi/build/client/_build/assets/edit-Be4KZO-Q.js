import{e as g,i as b,q as l,l as a,b as i,m as A,t as f,S as C}from"./web-B77D8VL7.js";import{T as I}from"./index-D0gPe-Qg.js";import{g as N,u as D}from"./products-Bt1scIOC.js";import{P as F}from"./ProductForm-DsQCavUB.js";import{L}from"./Loading-dYFU-h2h.js";import{j as T,u as j}from"./routing-D8yMn4L8.js";import{c as q}from"./createAsync-DwDWr0TH.js";import"./server-runtime-C6utdK21.js";import"./preload-helper-ug3pwPZ1.js";import"./Button-lI7l4pQ1.js";var M=f('<div class="max-w-5xl mx-auto"><!$><!/><div class=mb-8><h1 class="text-3xl font-bold text-slate-900 tracking-tight">Edit Product</h1><p class="text-slate-500 mt-2">Update product information.</p></div><div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-8"><!$><!/><!$><!/>'),U=f('<div class="mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm">');function W(){const o=T(),x=j(),d=q(()=>N(o.id)),[$,s]=g(!1),[c,r]=g(""),_=async t=>{if(s(!0),r(""),!o.id){r("Invalid product ID"),s(!1);return}try{const e=await D(o.id,t);e.success?x("/dashboard/produk"):r(e.error||"Failed to update product")}catch{r("An unexpected error occurred")}finally{s(!1)}};return(()=>{var t=b(M),e=t.firstChild,[u,h]=l(e.nextSibling),S=u.nextSibling,n=S.nextSibling,v=n.firstChild,[m,P]=l(v.nextSibling),w=m.nextSibling,[E,k]=l(w.nextSibling);return a(t,i(I,{children:"Edit Product | ElaApp"}),u,h),a(n,(()=>{var y=A(()=>!!c());return()=>y()&&(()=>{var p=b(U);return a(p,c),p})()})(),m,P),a(n,i(C,{get when(){return d()},get fallback(){return i(L,{})},get children(){return i(F,{get initialData(){return d()},onSubmit:_,get isSubmitting(){return $()}})}}),E,k),t})()}export{W as default};
