import{ssr as s,ssrHydrationKey as o,escape as i,createComponent as a}from"solid-js/web";import{T as f}from"./assets/index-Dps0aSs2.js";import{createSignal as l,Show as x}from"solid-js";import{g as v,u as h}from"./assets/users-DiCcX9od.js";import{U as w}from"./assets/UserForm-B0Y6JnWz.js";import{l as y,u as U}from"./assets/routing-BQM0aEOD.js";import{c as S}from"./assets/createAsync-CBz8AaaQ.js";import"./assets/server-fns-runtime-DJML9_-T.js";import"solid-js/web/storage";import"./assets/fetchEvent-oIVSvjBj.js";import"h3";import"unctx";import"node:async_hooks";import"./assets/index-BinUX9hy.js";import"drizzle-orm/postgres-js";import"postgres";import"./assets/schema-DxiP6MVG.js";import"drizzle-orm/pg-core";import"drizzle-orm";import"bcryptjs";import"./assets/Button-BuAho1tZ.js";import"zod";var $=["<div",' class="max-w-5xl mx-auto"><!--$-->','<!--/--><div class="mb-8"><h1 class="text-3xl font-bold text-slate-900 tracking-tight">Edit User</h1><p class="text-slate-500 mt-2">Update user account details.</p></div><div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-8"><!--$-->',"<!--/--><!--$-->","<!--/--></div></div>"],E=["<div",' class="mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm">',"</div>"],A=["<div",' class="py-8 text-center text-slate-500">Loading user data...</div>'];function V(){const m=y(),c=U(),u=S(()=>v(m.id)),[g,d]=l(!1),[p,r]=l(""),b=async t=>{d(!0),r("");try{const e={username:t.username,role:t.role};t.password&&(e.password=t.password);const n=await h(m.id,e);n.success?c("/dashboard/users"):r(n.error||"Failed to update user")}catch{r("An unexpected error occurred")}finally{d(!1)}};return s($,o(),i(a(f,{children:"Edit User | ElaApp"})),p()&&s(E,o(),i(p())),i(a(x,{get when(){return u()},get fallback(){return s(A,o())},children:t=>a(w,{initialData:t,onSubmit:b,get isSubmitting(){return g()}})})))}export{V as default};
