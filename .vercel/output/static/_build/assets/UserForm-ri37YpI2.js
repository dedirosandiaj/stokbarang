import{e as u,i as D,q as b,l as c,b as d,t as I}from"./web-B77D8VL7.js";import{I as S,S as j,B as L,u as P,c as T}from"./Button-lI7l4pQ1.js";var B=I('<form class=space-y-8><div class="grid grid-cols-1 gap-x-8 gap-y-6 max-w-2xl"><!$><!/><!$><!/><!$><!/></div><div class="flex justify-start pt-6 border-t border-slate-100">');function R(t){const l=!!t.initialData,[f,_]=u(t.initialData?.username||""),[p,x]=u(""),[$,w]=u(t.initialData?.role||"kasir"),[g,v]=u({}),U=async a=>{a.preventDefault();const e={username:f(),password:p(),role:$()},r=(l?P:T).safeParse(e);if(!r.success){const m=r.error.flatten(),i={};Object.entries(m.fieldErrors).forEach(([o,n])=>{n&&n.length>0&&(i[o]=n[0])}),v(i);return}v({}),await t.onSubmit(r.data)};return(()=>{var a=D(B),e=a.firstChild,h=e.firstChild,[r,m]=b(h.nextSibling),i=r.nextSibling,[o,n]=b(i.nextSibling),E=o.nextSibling,[y,k]=b(E.nextSibling),C=e.nextSibling;return a.addEventListener("submit",U),c(e,d(S,{label:"Username",get value(){return f()},onInput:s=>_(s.currentTarget.value),get error(){return g().username},placeholder:"e.g. john_doe"}),r,m),c(e,d(S,{label:`Password ${l?"(Leave blank to keep unchanged)":""}`,type:"password",get value(){return p()},onInput:s=>x(s.currentTarget.value),get error(){return g().password},placeholder:l?"••••••••":"Enter password"}),o,n),c(e,d(j,{label:"Role",get value(){return $()},onChange:s=>w(s.currentTarget.value),get error(){return g().role},options:[{label:"Kasir",value:"kasir"},{label:"Admin",value:"admin"}]}),y,k),c(C,d(L,{type:"submit",get isLoading(){return t.isSubmitting},get disabled(){return t.isSubmitting},children:l?"Update User":"Create User"})),a})()}export{R as U};
